{% capture blank %}
    {% assign src = include.src %}
    {% if jekyll.environment == 'gulp' %}
        {% if include.bp_list %}
            {% assign bp_list = include.bp_list %}
        {% else %}
            {% assign bp_list = site.image_bp | reverse %}
        {% endif %}
        {% assign srcset = '' %}
        {% for bp in bp_list %}
            {% assign x = bp | map: 'x' %}
            {% assign y = bp | map: 'y' %}
            {% capture suffix %}-{{ x }}w{% endcapture %}
            {% capture new_src %}{% include file-suffix.liquid file_name=src suffix=suffix %} {{ x }}w, {% endcapture %}
            {% assign srcset = srcset | append: new_src %}
        {% endfor %}
        {% assign srcset = srcset | append: src %}
        {% if include.width %}
            {% assign width = include.width | replace: 'px', 'w' %}
            {% assign width_unit = width | slice: -1 %}
            {% unless width_unit == 'w' %}
                {% assign width = width | append: 'w' %}
            {% endunless %}
            {% assign srcset = srcset | append: ' ' | append: width %}
        {% endif %}
        {% assign return = srcset %}
    {% else %}
        {% assign return = src %}
    {% endif %}
{% endcapture %}{{ return | strip_newlines }}
